<!-- CFS based on Apache Tomcat 4.1.18 -->
<!-- Replace /home/cfs/webapps with the actual path if it differs -->
<!-- Replace /home/cfs/webapps/ROOT with the actual path if it differs --> 
<Server port="8005" shutdown="SHUTDOWN" debug="0">
  <Listener className="org.apache.catalina.mbeans.ServerLifecycleListener"
            debug="0"/>
  <Listener className="org.apache.catalina.mbeans.GlobalResourcesLifecycleListener"
            debug="0"/>
  <GlobalNamingResources>
    <!-- Test entry for demonstration purposes -->
    <Environment name="simpleValue" type="java.lang.Integer" value="30"/>
    <!-- Editable user database that can also be used by
         UserDatabaseRealm to authenticate users -->
    <Resource name="UserDatabase" auth="Container"
              type="org.apache.catalina.UserDatabase"
       description="User database that can be updated and saved">
    </Resource>
    <ResourceParams name="UserDatabase">
      <parameter>
        <name>factory</name>
        <value>org.apache.catalina.users.MemoryUserDatabaseFactory</value>
      </parameter>
      <parameter>
        <name>pathname</name>
        <value>conf/tomcat-users.xml</value>
      </parameter>
    </ResourceParams>
  </GlobalNamingResources>

  <!-- Tomcat administration and other apps on Port 8080 -->
  <Service name="Tomcat-Standalone">
    <!-- Define a non-SSL Coyote HTTP/1.1 Connector on port 8080 -->
    <Connector className="org.apache.coyote.tomcat4.CoyoteConnector" 
               port="8080" minProcessors="5" maxProcessors="75"
               enableLookups="true" redirectPort="8443"
               acceptCount="100" debug="0" connectionTimeout="20000"
               useURIValidationHack="false" disableUploadTimeout="true">
    </Connector>
    <!-- Define a Coyote/JK2 AJP 1.3 Connector on port 8009 -->
    <Connector className="org.apache.coyote.tomcat4.CoyoteConnector"
               port="8009" minProcessors="5" maxProcessors="75"
               enableLookups="true" redirectPort="8443"
               acceptCount="10" debug="0" connectionTimeout="0"
               useURIValidationHack="false"
               protocolHandlerClassName="org.apache.jk.server.JkCoyoteHandler">
    </Connector>
    <Engine name="Standalone" defaultHost="localhost" debug="0">
      <Logger className="org.apache.catalina.logger.FileLogger"
              prefix="catalina_log." suffix=".txt"
              timestamp="true"/>
      <Realm className="org.apache.catalina.realm.UserDatabaseRealm"
                 debug="0" resourceName="UserDatabase"/>
      <Host name="localhost" debug="0" appBase="webapps" 
            unpackWARs="true" autoDeploy="true">
        <Logger className="org.apache.catalina.logger.FileLogger"
                 directory="logs"  prefix="localhost_log." suffix=".txt"
	               timestamp="true"/>
      </Host>
    </Engine>
  </Service>
  <!-- CFS on Port 80 and 443 -->
  <Service className="org.apache.catalina.core.StandardService" debug="0" name="Web">
    <Connector className="org.apache.coyote.tomcat4.CoyoteConnector"
               port="80" minProcessors="5" maxProcessors="75"
               enableLookups="true" redirectPort="8443"
               acceptCount="100" debug="0" connectionTimeout="20000"
               useURIValidationHack="false" disableUploadTimeout="true" />
    <Connector className="org.apache.coyote.tomcat4.CoyoteConnector" 
        port="443" minProcessors="5" maxProcessors="75"
        enableLookups="true" 
        acceptCount="100" debug="0" scheme="https" secure="true"
        connectionTimeout="60000"
        useURIValidationHack="false" disableUploadTimeout="true">
      <Factory className="org.apache.coyote.tomcat4.CoyoteServerSocketFactory" 
          clientAuth="false" protocol="TLS"
          keystoreFile="/home/cfs/webapps/ROOT/WEB-INF/keystore" 
          keystorePass="aspcfs" keystoreType="JKS"/>
    </Connector>
    <Engine name="Web" defaultHost="localhost" debug="0">
      <Host name="localhost" debug="0" appBase="/home/cfs/webapps" 
            unpackWARs="false" autoDeploy="false">
        <Logger className="org.apache.catalina.logger.FileLogger"
                directory="logs"  prefix="cfs_log." suffix=".txt"
                timestamp="true"/>
        <Context path="" docBase="ROOT" debug="0" 
                 reloadable="true" crossContext="false"/>
      </Host>
      <Valve className="org.apache.catalina.valves.AccessLogValve"
              directory="logs"  prefix="cfs_access_log." suffix=".txt"
              pattern="%h %l %v %t &quot;%r&quot; %s %b"
              resolveHosts="false"/>
    </Engine>
  </Service>
</Server>
